(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{SlotMachine:()=>r});var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l},o=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},r=function(){function e(){var e,t=this;this.symbols=[{char:"🍒",value:10},{char:"🍋",value:20},{char:"🍇",value:30},{char:"🍉",value:40},{char:"🍓",value:50},{char:"🍌",value:60}],this.wheelElements=[],this.spinButton=null,this.scoreLabel=null,this.score=500,this.cost=5,this.wheelLength=30,this.symbolsVisible=3,this.spinTime=3;var r=["wheel1","wheel2","wheel3"].map(function(e){return document.getElementById(e)});(e=this.wheelElements).push.apply(e,o([],n(r.filter(function(e){return null!==e})),!1));var i=document.getElementById("spinButton");i?(this.spinButton=i,this.spinButton.addEventListener("click",function(){return t.spin()})):console.error("Spin button element not found");var l=document.getElementById("scoreLabel");l?this.scoreLabel=l:console.error("Score label element not found")}return e.prototype.getRandomSymbol=function(){var e=Math.floor(Math.random()*this.symbols.length);return this.symbols[e]},e.prototype.spin=function(){var e=this;this.score-=this.cost,this.scoreLabel&&(this.scoreLabel.textContent="Score: ".concat(this.score)),this.wheelElements.forEach(function(t){var n=t.querySelectorAll(".symbol");if(n&&0!==n.length){for(var o=e.symbolsVisible;o<e.wheelLength;o++){var r=e.getRandomSymbol().char;n[o].textContent=r}t.style.transition="transform "+e.spinTime+"s ease-in-out",t.style.transform="translateY(-".concat(150*(e.wheelLength-e.symbolsVisible),"px)"),setTimeout(function(){for(var o=0;o<e.symbolsVisible;o++)n[o].textContent=n[e.wheelLength-e.symbolsVisible+o].textContent;t.style.transition="none",t.style.transform="translateY(0)"},1e3*e.spinTime)}else console.error("No symbol elements found")}),setTimeout(function(){for(var t=[],n=function(n){var o=e.wheelElements.map(function(e){var t;return(null===(t=Array.from(e.childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("symbol")})[n])||void 0===t?void 0:t.textContent)||""});t.push(o)},o=0;o<e.symbolsVisible;o++)n(o);e.score+=e.calculateScore(t),e.scoreLabel&&(e.scoreLabel.textContent="Score: ".concat(e.score))},1e3*this.spinTime+10),this.spinButton&&(this.spinButton.disabled=!0),setTimeout(function(){e.spinButton&&("undefined"!=typeof window&&window.location.hostname.includes("astl")||(e.spinButton.disabled=!1))},1e3*this.spinTime+20)},e.prototype.calculateScore=function(e){var t,r,i,l,s,a=0,c=function(e){1===o([],n(new Set(e)),!1).length&&""!==e[0]&&(a+=(null===(i=u.symbols.find(function(t){return t.char===e[0]}))||void 0===i?void 0:i.value)||0)},u=this;try{for(var h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),f=h.next();!f.done;f=h.next())c(f.value)}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}var y=e.map(function(e,t){return e[t]});1===o([],n(new Set(y)),!1).length&&""!==y[0]&&(a+=(null===(l=this.symbols.find(function(e){return e.char===y[0]}))||void 0===l?void 0:l.value)||0);var d=e.map(function(t,n){return t[e.length-1-n]});return 1===o([],n(new Set(d)),!1).length&&""!==d[0]&&(a+=(null===(s=this.symbols.find(function(e){return e.char===d[0]}))||void 0===s?void 0:s.value)||0),a},e}();document.addEventListener("DOMContentLoaded",function(){new r})})();