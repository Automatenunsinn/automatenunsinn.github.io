(()=>{"use strict";var e=(e,t,n)=>new Promise((r,i)=>{var l=e=>{try{a(n.next(e))}catch(e){i(e)}},o=e=>{try{a(n.throw(e))}catch(e){i(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,o);a((n=n.apply(e,t)).next())});function t(e,t){const n=e.slice().buffer,r=new Blob([n],{type:"application/octet-stream"}),i=URL.createObjectURL(r),l=document.createElement("a");l.href=i,l.download=t,l.click(),URL.revokeObjectURL(i)}window.mergeROMs=function(){return e(this,null,function*(){var e,n;const r=null==(e=document.getElementById("highRom").files)?void 0:e[0],i=null==(n=document.getElementById("lowRom").files)?void 0:n[0];if(!r||!i)return void alert("Es werden 2 Dateien benötigt.");const[l,o]=yield Promise.all([r.arrayBuffer(),i.arrayBuffer()]),a=new Uint8Array(l),c=new Uint8Array(o);if(a.length!==c.length)return void alert("Die Dateien müssen die gleiche Größe haben.");const u=new Uint8Array(2*a.length);for(let e=0;e<a.length;e++)u[2*e]=a[e],u[2*e+1]=c[e];t(u,"merged_16bit_rom.bin")})},window.splitROM=function(){return e(this,null,function*(){var e;const n=null==(e=document.getElementById("fullRom").files)?void 0:e[0];if(!n)return void alert("Bitte eine 16-bit ROM Datei auswählen.");const r=yield n.arrayBuffer(),i=new Uint8Array(r);if(i.length%2!=0)return void alert("Die Dateigröße muss gerade sein.");const l=i.length/2,o=new Uint8Array(l),a=new Uint8Array(l);for(let e=0;e<l;e++)o[e]=i[2*e],a[e]=i[2*e+1];t(o,"odd_rom.bin"),t(a,"even_rom.bin")})}})();